<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.allthelucky.memo.persistence.UserMapper">
	<insert id="addUser" parameterType="User">
		insert into user(username,password,level) values(#{username},#{password},#{level})
	</insert>
	
	<update id="udpateUser" parameterType="User">
		update user set username=#{username},password=#{password} where id=#{id}
	</update>
	
	<select id="getCount"  resultType="int">
		select count(*) from user
	</select>
	
	<resultMap type="User" id="resultList">
		<result property="id" column="id" />
		<result property="username" column="username" />
		<result property="password" column="password" />
		<result property="level" column="level" />
	</resultMap>
	
	<select id="checkUser" parameterType="User" resultMap="resultList">
		select * from user where username=#{username} and password=#{password} 
	</select>
	
	<select id="getUsers" parameterType="hashMap" resultMap="resultList">
		select * from user limit #{offset},#{size}
	</select>
</mapper>